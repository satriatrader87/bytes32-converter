<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Multi Converter</title>
<style>
    body { font-family: monospace; background: #111; color: #eee; padding: 20px; }
    textarea, input { width: 100%; padding: 8px; margin: 6px 0; font-family: monospace; }
    button { padding: 8px 16px; margin: 4px; background: #333; color: #eee; border: 1px solid #555; cursor: pointer; }
    button:hover { background: #444; }
    .section { margin-bottom: 25px; padding: 10px; border: 1px solid #333; }
    h2 { margin: 0 0 10px; }
</style>
</head>
<body>

<h1>Base64 / Bytes / Bytes32 / Decimal Converter</h1>

<div class="section">
    <h2>Base64 ⇄ Bytes</h2>
    <textarea id="base64Input" placeholder="Masukkan Base64"></textarea>
    <button onclick="base64ToBytes()">Base64 → Bytes</button>
    <textarea id="bytesFromBase64" placeholder="Output Bytes"></textarea>
    <button onclick="bytesToBase64()">Bytes → Base64</button>
</div>

<div class="section">
    <h2>Bytes ⇄ Bytes32</h2>
    <textarea id="bytesInput" placeholder="Masukkan Bytes (0x...)"></textarea>
    <button onclick="bytesToBytes32()">Bytes → Bytes32</button>
    <textarea id="bytes32FromBytes" placeholder="Output Bytes32"></textarea>
    <button onclick="bytes32ToBytes()">Bytes32 → Bytes</button>
</div>

<div class="section">
    <h2>Decimal Array ⇄ Bytes32</h2>
    <textarea id="decArrayInput" placeholder="Masukkan Decimal Array [..]"></textarea>
    <button onclick="decArrayToBytes32()">Decimal Array → Bytes32</button>
    <textarea id="bytes32FromDecArray" placeholder="Output Bytes32"></textarea>
    <button onclick="bytes32ToDecArray()">Bytes32 → Decimal Array</button>
</div>

<div class="section">
    <h2>Decimal Array ⇄ Bytes</h2>
    <textarea id="decArray2Input" placeholder="Masukkan Decimal Array [..]"></textarea>
    <button onclick="decArrayToBytes()">Decimal Array → Bytes</button>
    <textarea id="bytesFromDecArray" placeholder="Output Bytes"></textarea>
    <button onclick="bytesToDecArray()">Bytes → Decimal Array</button>
</div>

<script>
// Base64 → Bytes
function base64ToBytes() {
    try {
        const b64 = document.getElementById("base64Input").value.trim();
        const bin = atob(b64);
        const bytes = Array.from(bin, c => c.charCodeAt(0));
        document.getElementById("bytesFromBase64").value = "0x" + bytes.map(b => b.toString(16).padStart(2, '0')).join('');
    } catch (e) { alert("Invalid Base64"); }
}

// Bytes → Base64
function bytesToBase64() {
    try {
        let hex = document.getElementById("bytesFromBase64").value.trim();
        hex = hex.startsWith("0x") ? hex.slice(2) : hex;
        const bin = hex.match(/.{1,2}/g).map(b => String.fromCharCode(parseInt(b, 16))).join('');
        document.getElementById("base64Input").value = btoa(bin);
    } catch (e) { alert("Invalid Bytes"); }
}

// Bytes → Bytes32
function bytesToBytes32() {
    try {
        let hex = document.getElementById("bytesInput").value.trim();
        hex = hex.startsWith("0x") ? hex.slice(2) : hex;
        if (hex.length > 64) hex = hex.slice(0, 64);
        else hex = hex.padStart(64, '0');
        document.getElementById("bytes32FromBytes").value = "0x" + hex;
    } catch (e) { alert("Invalid Bytes"); }
}

// Bytes32 → Bytes
function bytes32ToBytes() {
    try {
        let hex = document.getElementById("bytes32FromBytes").value.trim();
        hex = hex.startsWith("0x") ? hex.slice(2) : hex;
        document.getElementById("bytesInput").value = "0x" + hex.replace(/^0+/, '') || "0x00";
    } catch (e) { alert("Invalid Bytes32"); }
}

// Decimal Array → Bytes32
function decArrayToBytes32() {
    try {
        const arr = JSON.parse(document.getElementById("decArrayInput").value.trim());
        if (!Array.isArray(arr)) throw "Not array";
        if (arr.length > 32) throw "Max length 32";
        const hex = arr.map(b => b.toString(16).padStart(2, '0')).join('').padStart(64, '0');
        document.getElementById("bytes32FromDecArray").value = "0x" + hex;
    } catch (e) { alert("Invalid Decimal Array"); }
}

// Bytes32 → Decimal Array
function bytes32ToDecArray() {
    try {
        let hex = document.getElementById("bytes32FromDecArray").value.trim();
        hex = hex.startsWith("0x") ? hex.slice(2) : hex;
        const arr = hex.match(/.{1,2}/g).map(h => parseInt(h, 16));
        document.getElementById("decArrayInput").value = JSON.stringify(arr);
    } catch (e) { alert("Invalid Bytes32"); }
}

// Decimal Array → Bytes
function decArrayToBytes() {
    try {
        const arr = JSON.parse(document.getElementById("decArray2Input").value.trim());
        if (!Array.isArray(arr)) throw "Not array";
        const hex = arr.map(b => b.toString(16).padStart(2, '0')).join('');
        document.getElementById("bytesFromDecArray").value = "0x" + hex;
    } catch (e) { alert("Invalid Decimal Array"); }
}

// Bytes → Decimal Array
function bytesToDecArray() {
    try {
        let hex = document.getElementById("bytesFromDecArray").value.trim();
        hex = hex.startsWith("0x") ? hex.slice(2) : hex;
        const arr = hex.match(/.{1,2}/g).map(h => parseInt(h, 16));
        document.getElementById("decArray2Input").value = JSON.stringify(arr);
    } catch (e) { alert("Invalid Bytes"); }
}
</script>
</body>
</html>
