<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Extract extraArgs</title>
</head>
<body>
<h3>Extract extraArgs from Calldata</h3>
<textarea id="calldata" rows="6" cols="90" placeholder="Paste your calldata here..."></textarea><br><br>
<button onclick="extractExtraArgs()">Extract</button>
<p><strong>extraArgs:</strong> <span id="result"></span></p>

<script>
function extractExtraArgs() {
    let hex = document.getElementById("calldata").value.trim();

    // Hilangkan 0x kalau ada
    if (hex.startsWith("0x")) hex = hex.slice(2);

    // Ubah ke array byte
    let bytes = [];
    for (let i = 0; i < hex.length; i += 2) {
        bytes.push(parseInt(hex.substr(i, 2), 16));
    }

    // Cari pola 0x00 12 lalu ambil 64 byte setelahnya (32 byte data + 32 byte padding)
    let idx = -1;
    for (let i = 0; i < bytes.length - 2; i++) {
        if (bytes[i] === 0x00 && bytes[i + 1] === 0x12) {
            idx = i + 2;
            break;
        }
    }

    if (idx === -1) {
        document.getElementById("result").textContent = "extraArgs tidak ditemukan";
        return;
    }

    let extraArgsBytes = bytes.slice(idx, idx + 64);
    let extraArgsHex = "0x" + extraArgsBytes.map(b => b.toString(16).padStart(2, "0")).join("");
    document.getElementById("result").textContent = extraArgsHex;
}
</script>
</body>
</html>
